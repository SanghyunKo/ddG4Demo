<?xml version="1.0" encoding="UTF-8"?>
<lccdd>
  <!-- use DD4hep elements and material definitions: -->
  <includes>
    <gdmlFile ref="${DD4hepINSTALL}/DDDetectors/compact/elements.xml"/>
    <gdmlFile ref="${DD4hepINSTALL}/DDDetectors/compact/materials.xml"/>
  </includes>

  <!-- some information about your detector: -->
  <info name="ddG4Demo"
    title="ddG4 demo"
    author="Sanghyun Ko"
    url="no"
    status="development"
    version="0.0.1">
    <comment>
      Simple demo for detector construction
    </comment>
  </info>

  <!-- this defines the dimensions of the world volume (i.e. top level volume), generated by DD4hep automatically: -->
  <define>
    <constant name="world_size" value="20.*m"/> <!-- make sure to always use units -->
    <constant name="world_x" value="world_size/2."/>
    <constant name="world_y" value="world_size/2."/>
    <constant name="world_z" value="world_size/2."/>
  </define>

  <display>
    <vis name="Invisible" showDaughters="false" visible="false"/> <!-- set showDaughters="true" to visualize -->
    <vis name="TowerVis" alpha="1." r="0.7" g="0.4" b="0.1" showDaughters="true" visible="true"/>
    <vis name="ScintVis" alpha="0.5" r="1.0" g="0.8" b="0.1" showDaughters="true" visible="true"/>
    <vis name="WaferVis" alpha="1." r="0.0" g="0.9" b="0.2" showDaughters="true" visible="true"/>
  </display>

  <!-- this is where we actually define our detector: -->
  <detectors>
    <!-- <detector id="1" name="G4Demo" type="ddG4Demo" readout="demoReadout" vis="Invisible"> -->
    <detector id="1" name="G4Demo" type="ddG4Demo" readout="demoReadout" region="demoFastsimRegion" vis="Invisible">
      <sensitive type="Geant4calorimeter"/>
      <module moduleHeight="1.0*m" moduleWidth="4.5*cm" nmodules="100" vis="TowerVis" material="Copper">
        <end_module moduleWidth="1.0*mm" vis="ScintVis" material="Polystyrene"/>
      </module>
      <wafer thickness="1.*mm" vis="WaferVis" sensitive="true" material="Silicon"/>
    </detector>
  </detectors>

  <readouts>
    <readout name="demoReadout">
      <segmentation type="CartesianGridXY" grid_size_x="1.5*mm" grid_size_y="1.5*mm"/>
      <id>system:5,x0:-8,y0:-8,x:32:-8,y:-8</id>
    </readout>
  </readouts>

  <regions>
    <region name="demoFastsimRegion"/>
  </regions>

</lccdd>
